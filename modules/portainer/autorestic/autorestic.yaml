version: 2

global:
  forget:
    keep-last: 5
    keep-hourly: 24
    keep-daily: 30
    keep-weekly: 4
    keep-monthly: 12
    keep-yearly: 1
    keep-within: "14d"

extras:
  common: &common
    to: r2
    forget: prune

locations:
  paperless:
    from: /srv/data/paperless
    <<: *common
  vaultwarden:
    from: /srv/data/vaultwarden
    <<: *common
  opengist:
    from: /srv/data/opengist
    <<: *common
  miniserve:
    from: /srv/data/miniserve
    <<: *common

backends:
  r2:
    type: s3
    path: https://a2de594f2c9ac168316a62056f9a7303.r2.cloudflarestorage.com/homelab-docker-apps-backup
